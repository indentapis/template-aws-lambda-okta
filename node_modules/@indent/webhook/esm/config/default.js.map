{"version":3,"file":"default.js","sourceRoot":"","sources":["../../src/config/default.ts"],"names":[],"mappings":"AAmBA,IAAM,mBAAmB,GAAsB;IAC7C,IAAI,EAAE;QACJ,GAAG,EAAE,uBAAuB;QAC5B,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;SACnC;KACF;IACD,OAAO,EAAE;QACP;YACE,MAAM,EAAE;gBACN;oBACE,KAAK,EAAE,cAAc;oBACrB,KAAK,EAAE;wBACL,IAAI,EAAE,YAAY;wBAClB,EAAE,EAAE,mBAAmB;wBACvB,MAAM,EAAE,CAAC,cAAc,CAAC;qBACzB;oBACD,IAAI,EAAE;wBACJ,MAAM,EAAE;4BACN,OAAO,EAAE,0BAA0B;yBACpC;qBACF;oBACD,MAAM,EAAE,2BAA2B;oBACnC,SAAS,EAAE;wBACT;4BACE,IAAI,EAAE,YAAY;4BAClB,EAAE,EAAE,mBAAmB;4BACvB,MAAM,EAAE,CAAC,kBAAkB,CAAC;4BAC5B,MAAM,EAAE;gCACN,GAAG,EAAE,kBAAkB;gCACvB,SAAS,EAAE,sBAAsB;6BAClC;yBACF;wBACD;4BACE,IAAI,EAAE,eAAe;4BACrB,EAAE,EAAE,aAAa;4BACjB,MAAM,EAAE;gCACN,GAAG,EAAE,SAAS;6BACf;yBACF;qBACF;iBACF;aACF;SACF;QACD;YACE,KAAK,EAAE,IAAI;YACX,MAAM,EAAE;gBACN;oBACE,KAAK,EAAE,eAAe;oBACtB,KAAK,EAAE;wBACL,IAAI,EAAE,YAAY;wBAClB,EAAE,EAAE,mBAAmB;wBACvB,MAAM,EAAE,CAAC,cAAc,CAAC;qBACzB;oBACD,MAAM,EAAE,sBAAsB;oBAC9B,SAAS,EAAE;wBACT;4BACE,IAAI,EAAE,YAAY;4BAClB,EAAE,EAAE,mBAAmB;4BACvB,MAAM,EAAE,CAAC,kBAAkB,CAAC;4BAC5B,MAAM,EAAE;gCACN,GAAG,EAAE,kBAAkB;gCACvB,SAAS,EAAE,sBAAsB;6BAClC;yBACF;wBACD;4BACE,IAAI,EAAE,eAAe;4BACrB,EAAE,EAAE,aAAa;4BACjB,MAAM,EAAE;gCACN,GAAG,EAAE,SAAS;6BACf;yBACF;qBACF;iBACF;aACF;SACF;KACF;CACF,CAAA;AAED,eAAe,mBAAmB,CAAA","sourcesContent":["import * as types from '@indent/types'\n\nexport type WebhookTestConfig = {\n  hook: IndentWebhook\n  entries: WebhookTestConfigEntry[]\n}\n\nexport type IndentWebhook = {\n  url: string\n  secret: string\n  method?: string\n  headers?: { [key: string]: string }\n}\n\nexport type WebhookTestConfigEntry = {\n  events: types.Event[]\n  delay?: number\n}\n\nconst DEFAULT_TEST_CONFIG: WebhookTestConfig = {\n  hook: {\n    url: 'http://localhost:3000',\n    secret: 'wkeXample',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  },\n  entries: [\n    {\n      events: [\n        {\n          event: 'access/grant',\n          actor: {\n            kind: 'slack/user',\n            id: 'TL0Q0MJR7/U9G03MX',\n            altIds: ['mary-manager']\n          },\n          meta: {\n            labels: {\n              expires: '2020-04-07T19:23:42.335Z'\n            }\n          },\n          reason: 'debug jira ticket APP-123',\n          resources: [\n            {\n              kind: 'slack/user',\n              id: 'TL0Q0MJR7/U822olY',\n              altIds: ['dennis-developer'],\n              labels: {\n                arn: 'dennis-developer',\n                cognitoId: 'd697483b81d0b72a37bf'\n              }\n            },\n            {\n              kind: 'aws:iam:group',\n              id: 'example-inc',\n              labels: {\n                arn: 's3-read'\n              }\n            }\n          ]\n        }\n      ]\n    },\n    {\n      delay: 1000,\n      events: [\n        {\n          event: 'access/revoke',\n          actor: {\n            kind: 'slack/user',\n            id: 'TL0Q0MJR7/U9G03MX',\n            altIds: ['mary-manager']\n          },\n          reason: 'access grant expired',\n          resources: [\n            {\n              kind: 'slack/user',\n              id: 'TL0Q0MJR7/U822olY',\n              altIds: ['dennis-developer'],\n              labels: {\n                arn: 'dennis-developer',\n                cognitoId: 'd697483b81d0b72a37bf'\n              }\n            },\n            {\n              kind: 'aws:iam:group',\n              id: 'example-inc',\n              labels: {\n                arn: 's3-read'\n              }\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n\nexport default DEFAULT_TEST_CONFIG\n"]}